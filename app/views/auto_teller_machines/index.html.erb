<div style="width:100vw; height:100vh;">
  <div id="map" style='width: 100vw; height: 100vh;'></div>
</div>

<% content_for :js do %>
  <script src="//maps.google.com/maps/api/js?key=AIzaSyBDdqHvzO2nIUFDwQDxp_Y4rnX9zn4JSvc"></script>
  <script>
  var initializeMap = function() {
  var handler;
  handler = Gmaps.build("Google");
  handler.buildMap({
    provider: {
      //maxZoom: 15,
      //minZoom: 10
      Zoom: 2
    },
    internal: {
      id: "map"
    }
  }, function() {
    <% @auto_teller_machines.each do |auto_teller_machine| %>
      var markers;
      var contentString = '<div class="info" style="color:black;">' + '<%= auto_teller_machine.type %>' + '</div>';
      markers = handler.addMarkers([
        {
          lat: <%= auto_teller_machine.latitude %>,
          lng: <%= auto_teller_machine.longitude %>,
          infowindow: contentString
        }
      ]);
    <% end %>
    //handler.bounds.extendWith(markers);
    //handler.fitMapToBounds();
  });
  };

  initializeMap();
  </script>
<% end %>
